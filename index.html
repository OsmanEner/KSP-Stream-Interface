<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">

    <!--General Page-->
    <title>KSP Stream Interface</title>

    <!--CSS Styling Sheet-->
    <link rel="stylesheet" type="text/css" href="mainstyle.css">

    <!--Website Favicon-->
    <link rel="icon" type="image/x-icon" href="assets/main_assets/favicon.png">

    <!--Scripts-->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  </head>

  <style>
    body {
      background-color: transparent;
    }
  </style>

  <body>
    <p class="flight">STARSHIP FLIGHT TEST</p>
    <button id="countID" class="count">T-00:00</button>
    <img src="assets/main_assets/Blur.png" class="blur">
  </body>

  <script>
    let seconds = -900;
    let clickStatus = false;
    let timerId;
    startTimer();
    function updateTimer() {
        seconds++;
        if (seconds < 0) {
            const absSeconds = Math.abs(seconds);
            const minutes = Math.floor((absSeconds % 3600) / 60);
            const remainingSeconds = absSeconds % 60;

            const timeString = `T-${padZero(minutes)}:${padZero(remainingSeconds)}`;
            $(".count").text(timeString);
        }
        else {
            const minutes = Math.floor((seconds % 3600) / 60);
            const remainingSeconds = seconds % 60;
            const timeString = `T+${padZero(minutes)}:${padZero(remainingSeconds)}`;
            $(".count").text(timeString);
        }
    }

    function padZero(num) {
        num = Math.abs(num)
        return num.toString().padStart(2, '0');
    }

    function startTimer() {
        if (!timerId) {
            timerId = setInterval(updateTimer, 1000);
        }
    }

    function stopTimer() {
        if (timerId) {
            clearInterval(timerId);
            timerId = null;
        }
    }

    document.getElementById("countID").onclick = function() {
        if (!clickStatus) {
            stopTimer();
            clickStatus = true; 
        } else {
            startTimer();
            clickStatus = false; //
        }
    }
  </script>
</html>
